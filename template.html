<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Piecewise Generator</title>
    <style>
        body {
            background-color: #f5f5f5;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }
        
        .generate-btn {
            display: block;
            margin: 0 auto 30px;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        
        .generate-btn:hover {
            background-color: #45a049;
        }
        
        .problem {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            height: 720px; /* 10 inches at 72 DPI */
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .problem-number {
            font-weight: bold;
            font-size: 11px;
            margin-bottom: 15px;
        }
        
        .problem-directions {
            font-weight: bold;
            font-size: 15px;
            margin-bottom: 15px;
        }
        
        .problem-area {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .graph-container {
            margin-right: 15px;
        }
        
        .graph {
            width: 300px;
            height: 300px;
            border: 1px solid #333;
        }
        
        .multiple-choice {
            font-size: 12px;
            margin-top: 15px;
        }
        
        .choice {
            height: 80px;
            /* margin-bottom: 8px; */
        }

        /* from piecewise function div */
        .piecewise-container {
            background: white;
            padding: 5px;
            border-radius: 5px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 10px;
            height: 50px;
        }

        .function-name {
            font-weight: bold;
            font-style: italic;
        }

        .brace-container {
            display: flex;
            align-items: stretch;
            height: 30px;
            width: 20px;

        }

        .brace {
            font-size: 30px;
            line-height: 1;
            display: flex;
            align-items: center;
            color: #333;
            transform: scaleX(0.3);
            /* transform-origin: left center; */
            padding-bottom: 10px;
        }

        .expressions {
            display: flex;
            flex-direction: column;
            justify-content: space-evenly;
            height: 10px;
            transform: translateY(-20px); /* Adjust -10px for the desired upward movement */

        }

        .expression-row {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 3px 0;
        }

        .math-expression {
            font-weight: normal;
        }

        .inequality {
            font-weight: normal;
            color: #666;
        }

        .comma {
            margin-right: 10px;
        }

        /* Styling for mathematical elements */
        .coefficient {
            /* font-style: italic; */
        }

        .variable {
            font-style: italic;
        }

        .constant {
            font-weight: normal;
        }
        
        .point {
            fill: #2563eb;
        }
        
        .open-point {
            fill: white;
            stroke: #2563eb;
            stroke-width: 2;
        }

    </style>
</head>
<body>
    <div class="container">
        <h1>name</h1>
        <button class="generate-btn" onclick="generateProblems()">Generate Problems</button>
        <div id="problems-container"></div>
    </div>

    <script>
        function generateProblems() {
            const container = document.getElementById('problems-container');
            container.innerHTML = '';
            
            for (let i = 1; i <= 10; i++) {
                const problem = generateProblem(i);
                container.appendChild(problem);
            }
        }
        
        function generateProblem(problemNumber) {
            const problemDiv = document.createElement('div');
            problemDiv.className = 'problem';
            /**
             * Each type of problem problem is unique but may have similar sets of variables
             */
            // // Standard            
            // const a = 0;
            // const b = 0;
            // const c = 0;
            // const d = 0;

            const y1 = 0;
            const y2 = 0;
            const y3 = 0;
            const y4 = 0;
            const y5 = 0;
            
            let bottomCoefficient = 0; 
            let some__Coefficient = 0; 
            let bottomConstant = 0; 
            
            const width = 300;
            const height = 300;
            
            const correctAnswer = {};

            
            // Create problem content
            problemDiv.innerHTML = `
                <div class="problem-number">Problem ${problemNumber}</div>
                <div class="problem-directions">
                    Write the rule that defines the function in the graph shown.
                </div>
                <div class="problem-area">
                    <div class="graph-container">
                        <svg class="graph" viewBox="0 0 ${width} ${height}">
                            ${drawGraph(width, height, orderedPairs, inequalities)}
                        </svg>
                    </div>
                </div>
                <div class="multiple-choice">
                    ${generateChoices(correctAnswer)}

                </div>
            `;
            
            return problemDiv;
        }
        
        function formatFunction(a, c) {
            let functionStr = '';
            
            if (a === 1) {
                functionStr = 'x²';
            } else {
                functionStr = `${a}x²`;
            }
            
            if (c > 0) {
                functionStr += ` + ${c}`;
            } else if (c < 0) {
                functionStr += ` - ${Math.abs(c)}`;
            }
            
            return functionStr;
        }
        
        // Draw graph - parameters will be end points of // UPDATE
        function drawGraph(width, height, orderedPairs, inequalities) {
            let svg = '';
            const DOMAIN = 22
            const RANGE = 22
            const CENTER_X = width/2;
            const CENTER_Y = height/2;
            
            // Grid lines
            for (let i = 0; i <= DOMAIN; i++) {
                const x = i * width / DOMAIN;
                svg += `<line x1="${x}" y1="0" x2="${x}" y2="300" stroke="#e0e0e0" stroke-width="0.5"/>`;
                
            }
            for (let i = 0; i <= RANGE; i++) {
                
                const y = i * 300 / RANGE;
                svg += `<line x1="0" y1="${y}" x2="${width}" y2="${y}" stroke="#e0e0e0" stroke-width="0.5"/>`;
            }
            
            // Axes
            svg += `<line x1="${CENTER_X}" y1="0" x2="${CENTER_X}" y2="300" stroke="#333" stroke-width="1"/>`;
            svg += `<line x1="0" y1="${CENTER_Y}" x2="${width}" y2="${CENTER_Y}" stroke="#333" stroke-width="1"/>`;
            
            // FUTURE - change every 5 intervals to a variable.
            // Axis labels (every 5 intervals)
            for (let i = 0; i <= DOMAIN; i += 5) {
                const pixel = i * width / DOMAIN + 13;
                const value = i - DOMAIN/2 +1;
                if (value !== 0 ) {
                    
                    svg += `<text x="${pixel}" y="145" text-anchor="middle" font-size="8">${value}</text>`;
                    // svg += `<text x="155" y="${pixel + 3}" text-anchor="middle" font-size="8">${11 - i}</text>`;
                }
            }
            for (let i = 0; i <= DOMAIN; i += 5) {
                const pixel = i * width / DOMAIN + 13;
                const value = i - DOMAIN/2 +1;
                if (value !== 0 ) {
                    
                    // svg += `<text x="${pixel}" y="145" text-anchor="middle" font-size="8">${value}</text>`;
                    svg += `<text x="155" y="${pixel + 3}" text-anchor="middle" font-size="8">${10 - i}</text>`;
                }
            }
            
            // Draw Line exmamples
            // svg += `<line x1="100" y1="330" x2="340" y2="330" stroke="blue" stroke-width="2"/>` 
            // svg += `<line x1="${CENTER_X + orderedPairs[0][0] * width / DOMAIN}" y1="${CENTER_Y - orderedPairs[0][1] * height / RANGE}" x2="${CENTER_X + orderedPairs[1][0] * width / DOMAIN}" y2="${CENTER_Y - orderedPairs[0][1] * height / RANGE}" stroke="#00f" stroke-width="2.1"/>`;
            // svg += `<line x1="${CENTER_X + orderedPairs[1][0] * width / DOMAIN}" y1="${CENTER_Y - orderedPairs[1][1] * height / RANGE}" x2="${CENTER_X + orderedPairs[2][0] * width / DOMAIN}" y2="${CENTER_Y - orderedPairs[2][1] * height / RANGE}" stroke="#00f" stroke-width="2.1"/>`;
            // svg += `<line x1="${CENTER_X + orderedPairs[3][0] * width / DOMAIN}" y1="${CENTER_Y - orderedPairs[3][1] * height / RANGE}" x2="${CENTER_X + orderedPairs[4][0] * width / DOMAIN}" y2="${CENTER_Y - orderedPairs[4][1] * height / RANGE}" stroke="#00f" stroke-width="2.1"/>`;

            

            return svg;
        }
        
        // function generateChoices() {
        function generateChoices(correctAnswer) {
            const choices = [correctAnswer];
            console.log(correctAnswer);
            
            // Generate 3 incorrect answers
            while (choices.length < 4) {
                const incorrect = {
                    // incorrect object
                };
                choices.push(incorrect);
            }


            
            // Shuffle choices
            for (let i = choices.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [choices[i], choices[j]] = [choices[j], choices[i]];
            }

            // Generate HTML for each choice
            let choicesHTML = '';
            const letters = ['A', 'B', 'C', 'D'];
            
            choices.forEach((choice, index) => {
                const formattedChoice = formatChoice(choice);
                choicesHTML += `<div class="choice">${letters[index]}. ${formattedChoice}</div>`;
            });
            
            return choicesHTML;
        }
        
        function formatChoice(value) {

        }
        
        // Generate initial problems
        generateProblems();
    </script>
</body>
</html>
